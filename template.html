<!DOCTYPE html>
<html lang="en">
  <title>RailML Utilities</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
  <style>
body,h1,h2,h3,h4,h5 {font-family: "Poppins", sans-serif}
body {font-size:16px;}
.w3-half img{margin-bottom:-6px;margin-top:16px;opacity:0.8;cursor:pointer}
.w3-half img:hover{opacity:1}
  </style>
  <body>

    <!-- Sidebar/menu -->
    <nav class="w3-sidebar w3-red w3-collapse w3-top w3-large w3-padding" style="z-index:3;width:300px;font-weight:bold;" id="mySidebar"><br>
      <!-- <div class="w3-container"> -->
      <!--   <h3 class="w3-padding-64"><b>RailML<br>Utilities</b></h3> -->
      <!-- </div> -->
      <div class="w3-bar-block w3-padding-64">
        <a href="#" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Introduction</a>
        <a href="#rules" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Rules</a>
        <a href="#alloy" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Alloy</a>
        <a href="#validator" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Validator</a>
        <a href="#visualizer" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Visualizer</a>
        <a href="#aboutus" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">About us</a>
      </div>
    </nav>

    <!-- Top menu on small screens -->
    <header class="w3-container w3-top w3-hide-large w3-red w3-xlarge w3-padding">
      <a href="javascript:void(0)" class="w3-button w3-red w3-margin-right" onclick="w3_open()">â˜°</a>
      <span>RailML Utilities</span>
    </header>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:340px;margin-right:40px">

      <!-- Introduction -->
      <div class="w3-container" style="margin-top:80px" id="introduction">
        <h1 class="w3-jumbo"><b>RailML Utilities</b></h1>
        <h1 class="w3-xxxlarge w3-text-red"><b>Introduction.</b></h1>
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <p>This project started of as a school project. The main goal is to verify if the <a href="https://www.railml.org/en/home.html" title="railML" target="_blank" class="w3-hover-opacity">railML</a> format has no flaws.
        <p>To do so, we used the <a href="https://alloytools.org/" title="alloy" target="_blank" class="w3-hover-opacity">Alloy</a> verification tool. Since railML is very extensive we started by only verifying the topology section. After some weekly reunions, alongside with our project manager, we decided that it would be nice to have a xml validator that validates references as well as a web visualizer to display a railway infrastructure. Both of these new features would still focus only on the topology. The main goal of this project after finishing the topology is to expand all the features to cover 100% of the railML format.
        </p>
        <p>At an early stage, we started by checking <a href="https://www.railml.org/en/user/railvivid.html" title="railvivid" target="_blank" class="w3-hover-opacity">RailVIVID</a> (official railML validator) flaws and we noticed that they only validate the railML schema. Considering this, our goal was to extend this validation to include logical <a href="#rules" class="w3-hover-opacity">rules</a> that we discover using Alloy.
        </p>
        <p>After verifying all the rules, we proceeded to implement them in the validator using the python programming language while working on the implementation of our visualizer too. Afterwards, we decided that we needed some parsers to convert alloy instances to railML (<a href="https://github.com/pedrordgs/RailML-Utilities/tree/master/alloy_related/alloyToRailML" title="alloyToRailML" target="_blank" class="w3-hover-opacity">alloyToRailML</a>) and railML files to alloy instances (<a href="https://github.com/pedrordgs/RailML-Utilities/tree/master/alloy_related/railMLToAlloy" title="railMLToAlloy" target="_blank" class="w3-hover-opacity">railMLToAlloy</a>). This was useful for our model based testing implementation.
        </p>
      </div>

      <!-- Alloy -->
      <div class="w3-container" id="alloy" style="margin-top:75px">
        <h1 class="w3-xxxlarge w3-text-red"><b>Alloy.</b></h1>
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ut.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus pharetra pharetra mi imperdiet sodales. Nulla et elementum tellus. Aenean ac sem semper, lacinia lectus sit amet, vehicula nibh. Curabitur felis libero, luctus ut orci in, sollicitudin consectetur elit. Sed ac tortor mauris. Proin et lectus eu leo dignissim tempor rhoncus nec justo. Donec blandit leo eget gravida sodales. Donec ultricies urna vel ex tempus imperdiet. In felis enim, vestibulum id arcu ut, maximus porta leo.
        </p>
    </div>

      <!-- Validator -->
      <div class="w3-container" id="validator" style="margin-top:75px">
        <h1 class="w3-xxxlarge w3-text-red"><b>Validator.</b></h1>
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <p> The purpose of the validator is to extend the verification tool that railML provides (railVivid), and go beyond the XML schema checking by validating properties that should be valid in every railML file. As mentioned <a href="https://github.com/pedrordgs/RailML-Utilities/blob/master/alloy_related/README.md" title="here" target="_blank" class="w3-hover-opacity">here</a>, alloy was a great help in finding and validating properties that were later verified using this validator. </p>

        <p> The <a href="https://www.railml.org/en/download/schemes.html" title="schemas" target="_blank" class="w3-hover-opacity">schemas</a> provided by railVivid were used for schema checking. </p>
        <h2 class="w3-xlarge w3-text-red"><b>Usage.</b></h2>
        <p> In order to use this validator, it must be given a railML file to the main program named <b>validator_rml.py</b>. </p>

        <p> A railML instance can be found <a href="https://github.com/pedrordgs/RailML-Utilities/blob/master/validator/examples/tutorial.xml" title="schemas" target="_blank" class="w3-hover-opacity">here</a>. </p>

        <p> The file must be downloaded and copied to the <a href="https://github.com/pedrordgs/RailML-Utilities/tree/master/validator/examples/" title="schemas" target="_blank" class="w3-hover-opacity">examples</a> folder.</p>

        <h2 class="w3-xlarge w3-text-red"><b>Verifier.</b></h2>

        <p>The folder <a href="https://github.com/pedrordgs/RailML-Utilities/tree/master/validator/verifier" title="schemas" target="_blank" class="w3-hover-opacity">verifier</a> contains every file used for validation purposes. Before verifying the rules explored using Alloy, schema must be valid. Therefore, this verification process was divided in different files.</p>

        <h3 class="w3-large w3-text-red"><b>XML Schema checking.</b></h3>
        <ul>
          <li> The <a href="https://www.railml.org/en/download/schemes.html" title="schemas" target="_blank" class="w3-hover-opacity">schemas</a> provided by railVivid were used for schema checking. </li>
          <li> Every attribute ref must be a valid attribute id. </li>
          <li> For each network, we can have at most 1 Micro, 1 Meso and 1 Macro level. </li>
        </ul>

        <h3 class="w3-large w3-text-red"><b>Alloy rules verified.</b></h3>

        <ul>
          <li> <b> NetElements Assumptions </b> </li>
          <ol>
            <li> Every element's relation must reference the latter, implying that relation must be redundant. </li>
            <li> Elements can be referenced as part of others elements, abstracting some elements as one. However, an element can't ever be a recursively part of itself. </li>
            <li> An element must have at most 1 parent (By parent, we mean that each element can only be an element part of at most 1 element). </li>
            <li> Element On: If an element is connected to two different elements in the same endpoint, those must also be connected and their positions must be preserved. </li>
            <li> Each element must have 1 associated network. An element must be a networkResource of 1 and on 1 level. </li>
          </ol>

          <li> <b> NetRelations Assumptions. </b> </li>
          <ol start="6">
            <li> Each relation must have only 1 associated network. An relation must be a networkResource of 1 and only 1 level. </li>
            <li> Must not exist different relations representing the same relation between elements. </li>
            <li> An element can't relate to itself at the same position. So, can't exist a relation with elementA = elementB and positionA = positionB. </li>
            <li> Each relation has a set of associated relations, where they relate with each other by having one shared element at the same position. Each relation can either have 1, 2 (switch abstraction) or 5 (double-switch abstraction) associated relations. </li>
            <li> Navigability Property: If 3 relations are associated, one of them must have its navigability to None. If 5 relations are associated, two of them must have its navigability to None. </li>
          </ol>

          <li> <b> Network Assumptions. </b> </li>
          Note that networks can have different levels, those being Micro, Meso and Macro, hierarchically ordered.
          <ol start="11">
            <li> Elements defined at the Micro level can't be extended by other elements, meaning that elementCollectionUnordered of these elements must be empty. </li>
            <li> Extending every element at the Meso level, they must represent a micro element. Meaning that, Micro level must be the same as the extended Meso level. </li>
            <li> Extending every element at the Macro level, they either represent a meso element or a micro element. Meaning that, the logic disjunction of both Micro and Meso level must be the same as the extended Macro level. </li>
            <li> Every relation defined at any level, their corresponding elements must be defined at the same level. </li>
            <li> Every relation defined at any level, must be represented at the remaining levels. </li>
          </ol>
          <em>Micro level should exist in each defined network, but the user can opt for the non-declaration of this level and proceed to the verification of the remaining levels.</em>
        </ul>

        <h3 class="w3-large w3-text-red"><b>Positioning Systems.</b></h3>

        These properties related to the positioning systems were not specified in alloy because of their complex nature, where might be some missed properties.
        <ul>
          <li> Geometric Positioning System </li>
          <ul>
            <li> Every GPS must be time valid, meaning that their corresponding validation date can't be outdated. </li>
            <li> If one of the declared GPS has no netElement associated, a warning will be displayed. </li>
            <li> The difference between endpoints of one netElement, declared at the same GPS, must be lower than its length. </li>
            <li> If a netElement has elementParts associated, their combining endpoints difference must be equal to the netElement endpoints difference, for each shared GPS. </li>
            <li> If both elements of one relation are represented at the same GPS, they must be connected. </li>
          </ul>
          <li> Linear Positioning System </li>
          <ul>
            <li> Every LPS must be time valid, meaning that their corresponding validation date can't be outdated. </li>
            <li> If one of the declared LPS has no netElement associated, a warning will be displayed. </li>
            <li> The difference between endpoints of one netElement, declared at the same LPS, must be lower than its length. </li>
            <li> If a netElement has elementParts associated, their combining endpoints difference must be equal to the netElement endpoints difference, for each shared LPS. </li>
            <li> If both elements of one relation are represented at the same LPS, they must be connected. </li>
          </ul>
        </ul>

      </div>

      <!-- Visualizer -->
      <div class="w3-container" id="visualizer" style="margin-top:75px">
        <h1 class="w3-xxxlarge w3-text-red"><b>Visualizer.</b></h1>
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <p>As the name suggests, the visualizer tool is used to visualize a railML network.</p>
        <p><a href="https://github.com/pedrordgs/RailML-Utilities/blob/master/visualizer/afterLoading.png" title="This" target="_blank" class="w3-hover-opacity">This</a> example shows how the micro level of <a href="https://github.com/pedrordgs/RailML-Utilities/blob/master/examples/railml/tutorial.xml" title="this" target="_blank" class="w3-hover-opacity">this</a> railML file is depicted.</p>
      </div>


      <!-- About us -->
      <div class="w3-container" id="aboutus" style="margin-top:75px">
        <h1 class="w3-xxxlarge w3-text-red"><b>About us.</b></h1>
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <p>We are a group of students currently attending a Masters Degree at University of Minho. In the 2nd semester of the 1st year of the masters degree, we as a group had to choose and develop one of the projects provided by our professors. Since we are all enrolled in the Formal Methods degree, we decided to choose a project suggested by one of our professors, <a href="https://www.inesctec.pt/pt/pessoas/alcino-cunha#intro" title="Alcino" target="_blank" class="w3-hover-opacity">Alcino Cunha</a>.</p>
      </div>


      <!-- End page content -->
    </div>

    <!-- W3.CSS Container -->
    <div class="w3-light-grey w3-container w3-padding-32" style="margin-top:75px;padding-right:58px"><p class="w3-right">Made by <a href="https://github.com/PedroSilva9" title="me" target="_blank" class="w3-hover-opacity">jps</a> <a href="https://github.com/luis1ribeiro" title="me" target="_blank" class="w3-hover-opacity">lmr</a> <a href="https://github.com/pedrordgs" title="me" target="_blank" class="w3-hover-opacity">pbr</a></p></div>

    <script>
      // Script to open and close sidebar
      function w3_open() {
        document.getElementById("mySidebar").style.display = "block";
        document.getElementById("myOverlay").style.display = "block";
      }

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}

    </script>

  </body>
</html>

